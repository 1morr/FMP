{
  "hooks": {
    "Stop": [
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "agent",
            "prompt": "Check if SOURCE CODE files were modified in this session. Only consider actual code files like .dart, .ts, .js, .jsx, .tsx, .py, .java, .kt, .swift, .go, .rs, .cpp, .c, .h, etc. IGNORE documentation files (.md, .txt, .rst), config files (.json, .yaml, .yml, .toml, .xml), and other non-code files. If source code was modified AND code-simplifier has NOT been run, return: {\"decision\": \"block\", \"reason\": \"Source code was modified\", \"systemMessage\": \"You must use the Task tool to spawn the 'code-simplifier:code-simplifier' subagent to review the modified source code before completing the task.\"}. If only non-code files were modified OR code-simplifier already ran OR no files were modified, return: {\"decision\": \"approve\"}.",
            "model": "claude-sonnet-4-5-20250929",
            "timeout": 120
          }
        ]
      }
    ]
  },
  "permissions": {
    "allow": [
      "mcp__plugin_context7_context7__resolve-library-id",
      "mcp__plugin_context7_context7__query-docs",
      "Bash(flutter create:*)",
      "Bash(flutter pub get:*)",
      "Bash(flutter pub run build_runner build:*)",
      "Bash(flutter run:*)",
      "Bash(dir /b \"C:\\\\Users\\\\Roxy\\\\Visual Studio Code\\\\FMP\\\\lib\\\\services\")",
      "Bash(dir /b \"C:\\\\Users\\\\Roxy\\\\Visual Studio Code\\\\FMP\\\\lib\\\\services\\\\audio\")",
      "Bash(dir /b \"C:\\\\Users\\\\Roxy\\\\Visual Studio Code\\\\FMP\\\\lib\\\\data\\\\sources\")",
      "Bash(flutter analyze:*)",
      "Bash(flutter clean:*)",
      "mcp__plugin_serena_serena__activate_project",
      "mcp__plugin_serena_serena__check_onboarding_performed",
      "mcp__plugin_serena_serena__onboarding",
      "mcp__plugin_serena_serena__list_dir",
      "mcp__plugin_serena_serena__read_file",
      "mcp__plugin_serena_serena__write_memory",
      "mcp__plugin_serena_serena__list_memories",
      "mcp__plugin_serena_serena__read_memory",
      "Bash(flutter --version:*)",
      "Bash(flutter build:*)",
      "mcp__plugin_serena_serena__find_symbol",
      "mcp__plugin_serena_serena__get_symbols_overview",
      "mcp__plugin_serena_serena__think_about_collected_information",
      "mcp__plugin_serena_serena__search_for_pattern",
      "mcp__plugin_serena_serena__replace_content",
      "mcp__plugin_serena_serena__think_about_whether_you_are_done",
      "mcp__plugin_serena_serena__replace_symbol_body",
      "mcp__plugin_serena_serena__create_text_file",
      "Bash(flutter test:*)",
      "mcp__plugin_serena_serena__find_file",
      "mcp__plugin_serena_serena__think_about_task_adherence",
      "Bash(dir:*)",
      "Bash(flutter doctor:*)",
      "mcp__plugin_serena_serena__edit_memory",
      "mcp__plugin_serena_serena__insert_after_symbol",
      "Skill(sc:load)",
      "Bash(flutter pub:*)",
      "WebSearch",
      "WebFetch(domain:github.com)",
      "WebFetch(domain:pub.dev)",
      "mcp__tavily-remote-mcp__tavily_search",
      "mcp__tavily-remote-mcp__tavily_extract",
      "WebFetch(domain:claude.com)"
    ]
  }
}
